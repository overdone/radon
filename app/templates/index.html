
{% load staticfiles %}

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">

  <title>Radon APP</title>
  
  <link href="../app/lib/bower_components/ng-dialog/css/ngDialog.css" rel="stylesheet">
  <link href="../app/lib/bower_components/ng-dialog/css/ngDialog-theme-default.css" rel="stylesheet">  
  <link href="../app/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../app/lib/bower_components/bootstrap-material-design/dist/css/bootstrap-material-design.css" rel="stylesheet">
  <link href="../app/lib/bower_components/bootstrap-material-design/dist/css/ripples.min.css" rel="stylesheet"> 
  <link href="../app/css/app.css" rel="stylesheet">

</head>

<body ng-app="radon">

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand"><strong>Radon</strong></a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#"><span class="glyphicon glyphicon-log-out"></span> Выйти</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar" ng-controller="ReportListController as list">
        <ul class="nav nav-sidebar">
          {% block content %}
          {% verbatim %}
          <li ng-repeat="report in list.reports">
            <a href="#">{{report.name}}</a>
          </li>
          {% endverbatim %}
          {% endblock %}
        </ul>         
      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main" ng-controller="RoamingReportController as store">
       {% verbatim %}        
       <table st-safe-src="store.tablerows" st-table="store.displayed" class="table table-striped table-hover">
        <thead>
          <tr>
            <th>LCAL_ID</th>
            <th>GROUP_ID</th>
            <th>SRLS_ID</th>
            <th>BRANCH_ID</th>
            <th>PRICE</th>
            <th></th>
            <tr>
              <th colspan="6">
                <div class="form-group label-floating">                
                  <label class="control-label" for="searchfield"> Найти ...</label>
                  <div class="input-group">
                    <input st-search="" class="form-control" id="searchfield" type="text"/>
                  </div>
                </div>
              </th> 
            </tr>         
          </thead>
          <tbody>
            <!-- <tr st-select-row="row" st-select-mode="multiple" ng-repeat="row in store.displayed"> -->
            <tr ng-repeat="row in store.displayed">
              <td>{{row.lcal_id}}</td>
              <td>{{row.group_id}}</td>
              <td>{{row.srls_id}}</td>
              <td>{{row.branch_id}}</td>
              <td>{{row.price}}</td>
              <td class="control-column">
                <i ng-click="editRow('Изменить', row)" class="material-icons-font" ng-class="{'orange600': editColoring}" ng-mouseenter="editColoring=true" ng-mouseleave="editColoring=false">mode_edit</i>
                &nbsp;&nbsp;
                <i ng-click="deleteRow(row.id, $index)" class="material-icons-font" ng-class="{'orange600': delColoring}" ng-mouseenter="delColoring=true" ng-mouseleave="delColoring=false">delete</i>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="6" class="text-center">
                <div st-pagination="" st-items-by-page="15"></div>
              </td>
            </tr>
          </tfoot>
        </table>
        {% endverbatim %}
        <div ng-controller="ReportListController" class="plus-button">
          <button ng-click="editRow('Добавить');" class="btn btn-danger btn-fab"><i class="material-icons">+</button>
        </div>
      </div>
    </div>
  </div>
  <script src="{% static '../app/lib/bower_components/angular/angular.min.js' %}"></script>
  <script src="{% static '../app/lib/bower_components/angular-smart-table/dist/smart-table.min.js' %}"></script>
  <script src="{% static '../app/lib/bower_components/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static '../app/lib/bower_components/bootstrap-material-design/dist/js/material.min.js' %}"></script>
  <script src="{% static '../app/lib/bower_components/bootstrap-material-design/dist/js/ripples.min.js' %}"></script>
  <script src="{% static '../app/lib/bower_components/ng-dialog/js/ngDialog.min.js' %}"></script>
  <script src="{% static '../app/js/app.js' %}"></script>
  <script src="{% static '../app/js/reports.js' %}"></script>
  <script src="{% static '../app/js/modals.js' %}"></script>
  <script>$.material.init();</script>
</body>
</html>
